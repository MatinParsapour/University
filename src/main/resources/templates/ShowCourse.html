<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/ShowCourseStyle.css}">
    <title>Course</title>
</head>
<body>
<div class="courseData">
    <p class="courseHeader">Course : <span th:text="${course.title}"></span></p>
    <div class="details">
        <p>Course code : <span th:text="${course.courseCode}"></span></p>
        <p>Start date : <span th:text="${course.startDate}"></span></p>
        <p>Finish date : <span th:text="${course.finishDate}"></span></p>
        <div>
            <p>Teacher : </p>
            <div>
                <p>Name : <span th:text="${course.teacher.firstName}"></span> <span
                        th:text="${course.teacher.lastName}"></span></p>
                <p>Gender : <span th:text="${course.teacher.gender}"></span></p>
                <p>National code : <span th:text="${course.teacher.nationalCode}"></span></p>
                <p>Birth day : <span th:text="${course.teacher.birthday}"></span></p>
                <p>Email : <span th:text="${course.teacher.email}"></span></p>
            </div>
        </div>
    </div>
    <input id="addStudentButton" onclick="showChooseStudentField()" type="button" value="Add student">
    <div id="studentsList">
        <form action="#" th:action="@{/course/add-student-to-course}" method="post">
            <select name="studentId" required>
                <option th:each="student : ${students}" th:value="${student.id}"><span
                        th:text="${student.firstName}"></span> <span th:text="${student.lastName}"></span></option>
            </select>
            <input type="hidden" th:value="${course.id}" name="courseId">
            <input type="submit" value="Save">
        </form>
    </div>
    <input id="cancelButton" type="button" onclick="hideChooseStudentField()" value="Cancel">
    <input id="editButton" type="button" onclick="editPad()" value="Edit">
</div>
<div class="studentsData">
    <form th:each="student : ${course.students}" action="#" th:action="@{/course/remove-student-from-course}" class="student"
          method="post">
        <p>Name : <span th:text="${student.firstName}"></span> <span th:text="${student.lastName}"></span></p>
        <p>National code : <span th:text="${student.nationalCode}"></span></p>
        <p>Gender : <span th:text="${student.gender}"></span></p>
        <p>Birthday : <span th:text="${student.birthday}"></span></p>
        <p>Email : <span th:text="${student.email}"></span></p>
        <input type="hidden" name="courseId" th:value="${course.id}">
        <input type="hidden" name="studentId" th:value="${student.id}">
        <input type="submit" value="Remove from course">
    </form>
</div>
<div id="editPad">
    <div class="editPadInfo">
        <form action="#" class="margin-top-5" style="display: flex;" th:action="@{/course/change-course-name}" method="post">
            <input type="hidden" name="courseId" th:value="${course.id}">
            <label for="courseNameInput">Course name :</label>
            <input id="courseNameInput" class="input" type="text" name="courseName">
            <input type="submit" value="Change course name">
        </form>
        <form action="#" class="margin-top-5" style="display: flex;" th:action="@{/course/change-course-code}" method="post">
            <input type="hidden" name="courseId" th:value="${course.id}">
            <label for="courseCodeInput">Course code : </label>
            <input id="courseCodeInput" class="input" type="number" name="courseCode">
            <input type="submit" value="Change course code">
        </form>
        <form action="#" class="margin-top-5" style="display: flex;" th:action="@{/course/change-course-start-date}"
              method="post">
            <input type="hidden" name="courseId" th:value="${course.id}">
            <label for="courseStartDate">Start date : </label>
            <input id="courseStartDate" class="input" type="date" name="courseStartDate">
            <input type="submit" value="Change course start date">
        </form>
        <form action="#" class="margin-top-5" style="display: flex;" th:action="@{/course/change-course-finish-date}"
              method="post">
            <input type="hidden" name="courseId" th:value="${course.id}">
            <label for="courseFinishDate">Finish date : </label>
            <input id="courseFinishDate" class="input" type="date" name="courseFinishDate">
            <input type="submit" value="Change course finish date">
        </form>
        <form action="#" class="margin-top-5" style="display: flex; width: 40%;" th:action="@{/course/change-course-teacher}"
              method="post">
            <input type="hidden" name="courseId" th:value="${course.id}">
            <select class="form-select" id="validationCustom04" name="teacherId" required>
                <option th:each="teacher : ${teachers}" th:value="${teacher.id}"><span
                        th:text="${teacher.firstName}"></span> <span th:text="${teacher.lastName}"></span>
                </option>
            </select>
            <input type="submit" value="Change course teacher">
        </form>
        <input class="margin-top-5" type="button" value="Close" onclick="closeEditPad()">
    </div>
</div>


<script th:src="@{/js/ShowCourseJS.js}">
</script>
</body>
</html>